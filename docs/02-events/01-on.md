---
slug: /events/on
id: learn-bot-on-handler
sidebar_position: 2
sidebar_label: مدیریت ایونت on

last_update:
  date: '2026-02-18'
  author: 'hadi-rostami'
---

# on

متدی برای گوش دادن به رویدادهای مختلف از سمت سرور روبیکا (update, inline, error).

### توضیح

با استفاده از متد on، می‌تونی برای رویدادهای خاص یک هندلر ثبت کنی. این متد از overload پشتیبانی می‌کنه و می‌تونه فیلتر هم بگیره.

### ورودی ها

| نام       | نوع                                       | توضیح                                               |
| --------- | ----------------------------------------- | --------------------------------------------------- |
| `type`    | `keyof typeof bot.handlers`               | نوع رویداد ( `"update"`، `"inline"` , `"error"`)    |
| `filters` | `NestedFilter<ContextMap[T]>` _(اختیاری)_ | آرایه‌ای از فیلترها برای محدود کردن شرط اجرای هندلر |
| `handler` | `(ctx: ContextMap[T]) => Promise<void>`   | تابعی که هنگام وقوع رویداد اجرا می‌شود              |

## مثال ها

⚠ توجه: بسته به نوع رویداد (`"update"` , `"inline"` , `"error"`)، آرگومان ctx می‌تونه یک [Update](/docs/robot/contexts/update) , [Inline](/docs/robot/contexts/inlinemessage) یا `string` باشه.

### استفاده ساده

```js
import Bot from "rubika";

const bot = new Bot("YOUR_TOKEN");

bot.on("update", async (ctx) => {
  await ctx.reply("شما یک پیام فرستادید!");
});

bot.run();
```

### استفاده با فیلتر

```js
import Bot, { Filters } from "rubika";

const bot = new Bot("YOUR_TOKEN");

bot.on("update", [Filters.isText], async (ctx) => {
  await ctx.reply("شما یک پیام متنی فرستادید!");
});

bot.run();
```

### استفاده از ارور

```js
import Bot from "rubika";

const bot = new Bot("YOUR_TOKEN");

bot.on("error", async (err) => {
  console.log(err);
});

bot.run();
```
